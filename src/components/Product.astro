---
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon'
import html from 'astro/dist/vite-plugin-html'
import ProductSlider from './ProductSlider.astro'

interface Props {
  title: string
  description: string
  images: object
  price: number
  quantity: number
}

const { title, description, images, price, quantity } = Astro.props
---

<section class="p-2.5">
  <ProductSlider images={images} />
  <h1 class="font-semibold text-lg leading-tight mb-2.5">
    {title}
  </h1>
  <div class="flex mb-2">
    <!-- Rating -->
    <div class="flex flex-row-reverse justify-end items-center mr-2">
      <input
        id="hs-ratings-readonly-1"
        type="radio"
        class="peer -ms-5 w-5 h-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
        name="hs-ratings-readonly"
        value="1"
      />
      <label
        for="hs-ratings-readonly-1"
        class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600"
      >
        <svg
          class="flex-shrink-0 w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
          ></path>
        </svg>
      </label>
      <input
        id="hs-ratings-readonly-2"
        type="radio"
        class="peer -ms-5 w-5 h-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
        name="hs-ratings-readonly"
        value="2"
      />
      <label
        for="hs-ratings-readonly-2"
        class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600"
      >
        <svg
          class="flex-shrink-0 w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
          ></path>
        </svg>
      </label>
      <input
        id="hs-ratings-readonly-3"
        type="radio"
        class="peer -ms-5 w-5 h-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
        name="hs-ratings-readonly"
        value="3"
      />
      <label
        for="hs-ratings-readonly-3"
        class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600"
      >
        <svg
          class="flex-shrink-0 w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
          ></path>
        </svg>
      </label>
      <input
        id="hs-ratings-readonly-4"
        type="radio"
        class="peer -ms-5 w-5 h-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
        name="hs-ratings-readonly"
        value="4"
      />
      <label
        for="hs-ratings-readonly-4"
        class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600"
      >
        <svg
          class="flex-shrink-0 w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
          ></path>
        </svg>
      </label>
      <input
        id="hs-ratings-readonly-5"
        type="radio"
        class="peer -ms-5 w-5 h-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
        name="hs-ratings-readonly"
        value="5"
      />
      <label
        for="hs-ratings-readonly-5"
        class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none dark:peer-checked:text-yellow-600 dark:text-gray-600"
      >
        <svg
          class="flex-shrink-0 w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
          ></path>
        </svg>
      </label>
    </div>
    <!-- End Rating -->
    <span>9 отзывов</span>
  </div>
  <!--Price-->
  <div class="text-xl">
    Цена: <span class="text-xl font-bold">{price} ₴</span>
  </div>
  <div
    class=`${quantity > 0 ? 'text-green-600' : 'text-black'} font-semibold mb-2`
  >
    {quantity > 0 ? 'Есть в наличии' : 'Нет в наличии'}
  </div>
  <form id="productForm" method="get" action="#">
    <button
      id="productBtn"
      class=`mb-5 w-full py-2 px-3 text-lg inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-green-600 text-white hover:bg-green-500 focus:outline-none focus:ring-1 focus:ring-green-600 disabled:opacity-50 disabled:pointer-events-none dark:focus:ring-1 disabled:bg-gray-300 disabled:text-gray-600 dark:focus:ring-gray-600`
      disabled={quantity <= 0}
    >
      <Icon pack="ph" name="shopping-cart-simple" class="w-8" />
       Купить
    </button>
  </form>
  <!--Delivery block-->
  <div class="border border-1 rounded-xl p-4 bg-gray-50 mb-4">
    <div class="flex items-start mb-3">
      <Icon pack="iconoir" name="delivery-truck" class="w-10 mr-3" />
      <div>
        <div class="leading-tight">
          Самовывоз из отделений Новой Почты или Укр Почты
        </div>
        <div class="font-bold">Отправим сегодня</div>
      </div>
    </div>

    <div class="flex items-start">
      <Icon pack="la" name="biking" class="w-10 mr-2" />
      <div>
        <div class="leading-tight">
          Доставка до дверей, курьером Новой Почты
        </div>
        <div class="font-bold">Отправим сегодня</div>
      </div>
    </div>
  </div>
  <!--guarantee block-->
  <div class="border border-1 rounded-xl bg-gray-50 relative mb-5">
    <div class="flex items-start p-4">
      <Icon pack="ph" name="wallet-light" class="w-10 mr-2" />
      <div class="leading-tight">
        <span class="font-bold">Оплата.</span> Оплата во время получения товара
      </div>
    </div>
    <div class="flex items-start p-4 border-1 border-t">
      <Icon pack="carbon" name="security" class="w-10 mr-2" />
      <div class="leading-tight">
        <span class="font-bold">Гарантия.</span> 24 месяца с момента покупки
      </div>
    </div>
  </div>
  <!--end guarantee block-->
  <section class="mb-5">
    <h2 class="text-2xl font-bold mb-5">Описание</h2>
    <Fragment set:html={description} />
  </section>
  <section>
    <h2 class="text-2xl font-bold mb-5">Характеристики</h2>
    <div class="flex items-start">
      <div class="mr-5">Характеристика 1:</div>
      <div>
        <div class="value">Значение 1</div>
        <div class="value">Значение 2</div>
        <div class="value">Значение 3</div>
        <div class="value">Значение 4</div>
      </div>
    </div>
    <div class="flex items-start">
      <div class="mr-5">Характеристика 1:</div>
      <div>
        <div class="value">Значение 1</div>
      </div>
    </div>
  </section>
  <section>
    <!-- Comment Form -->
    <div class="max-w-[85rem] py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
      <div class="mx-auto max-w-2xl">
        <div class="text-center">
          <h2
            class="text-xl text-gray-800 font-bold sm:text-3xl dark:text-white"
          >
            Добавить отзыв
          </h2>
        </div>

        <!-- Card -->
        <div
          class="mt-5 p-4 relative z-10 bg-white border rounded-xl sm:mt-10 md:p-10 dark:bg-gray-800 dark:border-gray-700"
        >
          <form>
            <div class="mb-4 sm:mb-8">
              <label
                for="hs-feedback-post-comment-name-1"
                class="block mb-2 text-sm font-medium dark:text-white"
                >Имя
              </label>
              <input
                type="text"
                id="hs-feedback-post-comment-name-1"
                class="py-3 px-4 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600"
                placeholder="Ваше имя"
              />
            </div>
            <div>
              <label
                for="hs-feedback-post-comment-textarea-1"
                class="block mb-2 text-sm font-medium dark:text-white"
                >Коментарий</label
              >
              <div class="mt-1">
                <textarea
                  id="hs-feedback-post-comment-textarea-1"
                  name="hs-feedback-post-comment-textarea-1"
                  rows="3"
                  class="py-3 px-4 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600"
                  placeholder="Напишите ваш комментарий здесь..."></textarea>
              </div>
            </div>

            <div class="mt-6 grid">
              <button
                type="submit"
                class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                >Отправить</button
              >
            </div>
          </form>
        </div>
        <!-- End Card -->
      </div>
    </div>
    <!-- End Comment Form -->
  </section>
</section>

<!--<script>-->
<!--  document.addEventListener('DOMContentLoaded', function () {-->
<!--    const productForm = document.getElementById('productForm')-->
<!--    const productBtn = document.getElementById('productBtn')-->

<!--    function handleFormSubmit(event) {-->
<!--      if (quantity <= 0) {-->
<!--        event.preventDefault()-->
<!--        productBtn.classList.add(-->
<!--          'bg-gray-300',-->
<!--          'text-gray-600',-->
<!--          'cursor-not-allowed',-->
<!--        )-->
<!--      }-->
<!--    }-->

<!--    productForm.addEventListener('submit', handleFormSubmit)-->
<!--  })-->
<!--</script>-->
